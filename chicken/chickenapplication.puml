@startuml

package domain {
    package klausur {
        enum Klausurart {
            ONLINE
            PRAESENZ
        }

        class VeranstaltungsId {
            @Rules
            String id
        }

        class Klausurtermin {
            String fach
            LocalDateTime von
            LocalDateTime bis
            Klausurart klausurart
            VeranstaltungsId veranstaltungsId
        }
    }

    package student {
        class Urlaubstermin {
            LocalDate datum
            LocalTime von
            LocalTime bis
            boolean istVielfacheViertelstunde()
        }
        class Student {
            GithubHandle handle
            List<KlausurReferenz> klausurtermine
            List<Urlaubstermin> urlaubstermine
            double berechneResturlaub()
            void fuegeKlausurterminHinzu()
            void fuegeUrlaubsterminHinzu()
        }

        Student --> Urlaubstermin
    }
    student --> klausur

}

package service {
    package anmeldeservice {
        class StudentService {
            void berechneResturlaub()
            void klausurAnmelden()
            List<Klausurtermin> klausurtermine()
            void klausurStornieren()
            void urlaubAnmelden()
            List<Urlaubstermin> urlaubstermine()
            void urlaubStornieren()
        }
    }

    package klausurenservice {
        class KlausurenService {
            void klausurEintragen()
            List<Klausurtermin> klausurtermine()
        }
    }
    package repositories {
        interface KlausurterminRepository {}
        interface StudentRepository {}
    }
    KlausurenService --> KlausurterminRepository
    StudentService --> StudentRepository
    StudentService --> KlausurterminRepository

}

package infrastructure {
    class ChickenApplication {}
    package web {
        class KlausurterminController {}
        class UrlaubsterminController {}
        class StartseitenController {}
    }
    package persistenz {

        package dao {
            interface KlausurterminDb extends CrudRepository {}
            interface StudentDb extends CrudRepository {}
        }
        class KlausurterminRepositoryImpl {
            KlausurterminDb klausurterminDb
        }
        class StudentRepositoryImpl {
            StudentDb studentDb
        }

        StudentRepositoryImpl --> StudentDb
        KlausurterminRepositoryImpl --> KlausurterminDb
    }
}

service --> domain
infrastructure --> service
infrastructure --> domain

@enduml